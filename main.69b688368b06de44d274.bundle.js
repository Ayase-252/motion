(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(108);Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CSSMotionProps",{enumerable:!0,get:function get(){return _CSSMotion.CSSMotionProps}}),Object.defineProperty(exports,"CSSMotionList",{enumerable:!0,get:function get(){return _CSSMotionList.default}}),Object.defineProperty(exports,"CSSMotionListProps",{enumerable:!0,get:function get(){return _CSSMotionList.CSSMotionListProps}}),exports.default=void 0;var _CSSMotion=_interopRequireWildcard(__webpack_require__(210)),_CSSMotionList=_interopRequireWildcard(__webpack_require__(808)),_default=_CSSMotion.default;exports.default=_default},210:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(108),_interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.genCSSMotion=genCSSMotion,exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(211)),_objectSpread2=_interopRequireDefault(__webpack_require__(109)),_slicedToArray2=_interopRequireDefault(__webpack_require__(212)),React=_interopRequireWildcard(__webpack_require__(1)),_findDOMNode=_interopRequireDefault(__webpack_require__(803)),_ref=__webpack_require__(804),_classnames=_interopRequireDefault(__webpack_require__(106)),_motion=__webpack_require__(213),_interface=__webpack_require__(327),_useStatus3=_interopRequireDefault(__webpack_require__(805)),_DomWrapper=_interopRequireDefault(__webpack_require__(807));function genCSSMotion(config){var transitionSupport=config;function isSupportTransition(props){return!(!props.motionName||!transitionSupport)}"object"==typeof config&&(transitionSupport=config.transitionSupport);var CSSMotion=React.forwardRef((function(props,ref){var _classNames,_props$visible=props.visible,visible=void 0===_props$visible||_props$visible,_props$removeOnLeave=props.removeOnLeave,removeOnLeave=void 0===_props$removeOnLeave||_props$removeOnLeave,children=props.children,motionName=props.motionName,leavedClassName=props.leavedClassName,eventProps=props.eventProps,supportMotion=isSupportTransition(props),nodeRef=(0,React.useRef)(),wrapperNodeRef=(0,React.useRef)();var _useStatus=(0,_useStatus3.default)(supportMotion,visible,(function getDomElement(){try{return(0,_findDOMNode.default)(nodeRef.current||wrapperNodeRef.current)}catch(e){return null}}),props),_useStatus2=(0,_slicedToArray2.default)(_useStatus,3),status=_useStatus2[0],statusActive=_useStatus2[1],statusStyle=_useStatus2[2],setNodeRef=function setNodeRef(node){nodeRef.current=node,(0,_ref.fillRef)(ref,node)};return children?status!==_interface.STATUS_NONE&&isSupportTransition(props)?React.createElement(_DomWrapper.default,{ref:wrapperNodeRef},children((0,_objectSpread2.default)({},eventProps,{className:(0,_classnames.default)((0,_motion.getTransitionName)(motionName,status),(_classNames={},(0,_defineProperty2.default)(_classNames,(0,_motion.getTransitionName)(motionName,"".concat(status,"-active")),statusActive),(0,_defineProperty2.default)(_classNames,motionName,"string"==typeof motionName),_classNames)),style:statusStyle}),setNodeRef)):visible?children((0,_objectSpread2.default)({},eventProps),setNodeRef):removeOnLeave?null:children((0,_objectSpread2.default)({},eventProps,{className:leavedClassName}),setNodeRef):null}));return CSSMotion.displayName="CSSMotion",CSSMotion}var _default=genCSSMotion(_motion.supportTransition);exports.default=_default},213:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVendorPrefixes=getVendorPrefixes,exports.getVendorPrefixedEventName=getVendorPrefixedEventName,exports.getTransitionName=function getTransitionName(transitionName,transitionType){if(!transitionName)return null;if("object"==typeof transitionName){var type=transitionType.replace(/-\w/g,(function(match){return match[1].toUpperCase()}));return transitionName[type]}return"".concat(transitionName,"-").concat(transitionType)},exports.transitionEndName=exports.animationEndName=exports.supportTransition=void 0;var _canUseDom=_interopRequireDefault(__webpack_require__(326));function makePrefixMap(styleProp,eventName){var prefixes={};return prefixes[styleProp.toLowerCase()]=eventName.toLowerCase(),prefixes["Webkit".concat(styleProp)]="webkit".concat(eventName),prefixes["Moz".concat(styleProp)]="moz".concat(eventName),prefixes["ms".concat(styleProp)]="MS".concat(eventName),prefixes["O".concat(styleProp)]="o".concat(eventName.toLowerCase()),prefixes}function getVendorPrefixes(domSupport,win){var prefixes={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return domSupport&&("AnimationEvent"in win||delete prefixes.animationend.animation,"TransitionEvent"in win||delete prefixes.transitionend.transition),prefixes}var vendorPrefixes=getVendorPrefixes((0,_canUseDom.default)(),"undefined"!=typeof window?window:{}),style={};if((0,_canUseDom.default)()){var _document$createEleme=document.createElement("div");style=_document$createEleme.style}var prefixedEventNames={};function getVendorPrefixedEventName(eventName){if(prefixedEventNames[eventName])return prefixedEventNames[eventName];var prefixMap=vendorPrefixes[eventName];if(prefixMap)for(var stylePropList=Object.keys(prefixMap),len=stylePropList.length,i=0;i<len;i+=1){var styleProp=stylePropList[i];if(Object.prototype.hasOwnProperty.call(prefixMap,styleProp)&&styleProp in style)return prefixedEventNames[eventName]=prefixMap[styleProp],prefixedEventNames[eventName]}return""}var internalAnimationEndName=getVendorPrefixedEventName("animationend"),internalTransitionEndName=getVendorPrefixedEventName("transitionend"),supportTransition=!(!internalAnimationEndName||!internalTransitionEndName);exports.supportTransition=supportTransition;var animationEndName=internalAnimationEndName||"animationend";exports.animationEndName=animationEndName;var transitionEndName=internalTransitionEndName||"transitionend";exports.transitionEndName=transitionEndName},214:function(module,exports,__webpack_require__){var api=__webpack_require__(215),content=__webpack_require__(813);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},217:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="# rc-motion\n\n[![NPM version][npm-image]][npm-url] [![npm download][download-image]][download-url] [![build status][travis-image]][travis-url] [![Codecov][codecov-image]][codecov-url] [![Dependencies][david-image]](david-url) [![DevDependencies][david-dev-image]][david-dev-url] [![bundle size][bundlephobia-image]][bundlephobia-url]\n\n[npm-image]: http://img.shields.io/npm/v/rc-motion.svg?style=flat-square\n[npm-url]: http://npmjs.org/package/rc-motion\n[travis-image]: https://img.shields.io/travis/com/react-component/motion.svg?style=flat-square\n[travis-url]: https://travis-ci.com/react-component/motion\n[codecov-image]: https://img.shields.io/codecov/c/github/react-component/motion/master.svg?style=flat-square\n[codecov-url]: https://codecov.io/gh/react-component/motion/branch/master\n[david-url]: https://david-dm.org/react-component/motion\n[david-image]: https://david-dm.org/react-component/motion/status.svg?style=flat-square\n[david-dev-url]: https://david-dm.org/react-component/motion?type=dev\n[david-dev-image]: https://david-dm.org/react-component/motion/dev-status.svg?style=flat-square\n[download-image]: https://img.shields.io/npm/dm/rc-motion.svg?style=flat-square\n[download-url]: https://npmjs.org/package/rc-motion\n[bundlephobia-url]: https://bundlephobia.com/result?p=rc-motion\n[bundlephobia-image]: https://badgen.net/bundlephobia/minzip/rc-motion\n\nReact lifecycle controlled motion library.\n\n## Live Demo\n\nhttps://react-component.github.io/motion/\n\n## Install\n\n[![rc-motion](https://nodei.co/npm/rc-motion.png)](https://npmjs.org/package/rc-motion)\n\n## Example\n\n```tsx\nimport CSSMotion from 'rc-motion';\n\nexport default ({ visible }) => {\n  <CSSMotion visible={visible} motionName=\"my-motion\">\n    {({ className, style }) => <div className={className} style={style} />}\n  </CSSMotion>;\n};\n```\n\n## API\n\n### CSSMotion\n\n| Property | Type | Default | Description |\n| --- | --- | --- | --- |\n| motionName | string | - | Config motion name, will dynamic update when status changed |\n| visible | boolean | true | Trigger motion events |\n| motionAppear | boolean | true | Use motion when appear |\n| motionEnter | boolean | true | Use motion when enter |\n| motionLeave | boolean | true | Use motion when leave |\n| motionLeaveImmediately | boolean | - | Will trigger leave even on mount |\n| motionDeadline | number | - | Trigger motion status change even when motion event not fire |\n| removeOnLeave | boolean | true | Remove element when motion leave end |\n| leavedClassName | string | - | Set leaved element className |\n| onAppearStart | (HTMLElement, Event) => CSSProperties \\| void; | - | Trigger when appear start, return style will patch to element |\n| onEnterStart | (HTMLElement, Event) => CSSProperties \\| void; | - | Trigger when enter start, return style will patch to element |\n| onLeaveStart | (HTMLElement, Event) => CSSProperties \\| void; | - | Trigger when leave start, return style will patch to element |\n| onAppearActive | (HTMLElement, Event) => CSSProperties \\| void; | - | Trigger when appear active, return style will patch to element |\n| onEnterActive | (HTMLElement, Event) => CSSProperties \\| void; | - | Trigger when enter active, return style will patch to element |\n| onLeaveActive | (HTMLElement, Event) => CSSProperties \\| void; | - | Trigger when leave active, return style will patch to element |\n| onAppearEnd | (HTMLElement, Event) => boolean \\| void; | - | Trigger when appear end, will not finish when return false |\n| onEnterEnd | (HTMLElement, Event) => boolean \\| void; | - | Trigger when enter end, will not finish when return false |\n| onLeaveEnd | (HTMLElement, Event) => boolean \\| void; | - | Trigger when leave end, will not finish when return false |\n\n### CSSMotionList\n\nextends all the props from [CSSMotion](#CSSMotion)\n\n| Property  | Type                          | Default | Description       |\n| --------- | ----------------------------- | ------- | ----------------- |\n| keys      | React.Key[]                   | -       | Motion list keys  |\n| component | string \\| React.ComponentType | div     | wrapper component |\n\n## Development\n\n```\nnpm install\nnpm start\n```\n\n## License\n\nrc-motion is released under the MIT license.\n"},327:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.STATUS_LEAVE=exports.STATUS_ENTER=exports.STATUS_APPEAR=exports.STATUS_NONE=void 0;exports.STATUS_NONE="none";exports.STATUS_APPEAR="appear";exports.STATUS_ENTER="enter";exports.STATUS_LEAVE="leave"},340:function(module,exports){module.exports="import React from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from '../src';\nimport './CSSMotion.less';\n\ninterface DemoState {\n  show: boolean;\n  motionLeaveImmediately: boolean;\n  removeOnLeave: boolean;\n  hasMotionClassName: boolean;\n}\n\nclass Demo extends React.Component<{}, DemoState> {\n  state: DemoState = {\n    show: true,\n    motionLeaveImmediately: false,\n    removeOnLeave: true,\n    hasMotionClassName: true,\n  };\n\n  onTrigger = () => {\n    this.setState(({ show }) => ({ show: !show }));\n  };\n\n  onRemoveOnLeave = () => {\n    this.setState(({ removeOnLeave }) => ({ removeOnLeave: !removeOnLeave }));\n  };\n\n  onTriggerClassName = () => {\n    this.setState(({ hasMotionClassName }) => ({\n      hasMotionClassName: !hasMotionClassName,\n    }));\n  };\n\n  onCollapse = () => ({ height: 0 });\n\n  onMotionLeaveImmediately = () => {\n    this.setState(({ motionLeaveImmediately }) => ({\n      motionLeaveImmediately: !motionLeaveImmediately,\n    }));\n  };\n\n  skipColorTransition = (_, event) => {\n    // CSSMotion support multiple transition.\n    // You can return false to prevent motion end when fast transition finished.\n    if (event.propertyName === 'background-color') {\n      return false;\n    }\n    return true;\n  };\n\n  styleGreen = () => ({\n    background: 'green',\n  });\n\n  render() {\n    const {\n      show,\n      motionLeaveImmediately,\n      removeOnLeave,\n      hasMotionClassName,\n    } = this.state;\n\n    return (\n      <div>\n        <label>\n          <input type=\"checkbox\" onChange={this.onTrigger} checked={show} />{' '}\n          Show Component\n        </label>\n\n        <label>\n          <input\n            type=\"checkbox\"\n            onChange={this.onTriggerClassName}\n            checked={hasMotionClassName}\n          />{' '}\n          hasMotionClassName\n        </label>\n\n        <label>\n          <input\n            type=\"checkbox\"\n            onChange={this.onRemoveOnLeave}\n            checked={removeOnLeave}\n          />{' '}\n          removeOnLeave\n          {removeOnLeave ? '' : ' (use leavedClassName)'}\n        </label>\n\n        <div className=\"grid\">\n          <div>\n            <h2>With Transition Class</h2>\n            <CSSMotion\n              visible={show}\n              motionName={hasMotionClassName ? 'transition' : null}\n              removeOnLeave={removeOnLeave}\n              leavedClassName=\"hidden\"\n              onAppearStart={this.onCollapse}\n              onEnterStart={this.onCollapse}\n              onLeaveActive={this.onCollapse}\n              onEnterEnd={this.skipColorTransition}\n              onLeaveEnd={this.skipColorTransition}\n            >\n              {({ style, className }, ref) => (\n                <div\n                  ref={ref}\n                  className={classNames('demo-block', className)}\n                  style={style}\n                />\n              )}\n            </CSSMotion>\n          </div>\n\n          <div>\n            <h2>With Animation Class</h2>\n            <CSSMotion\n              visible={show}\n              motionName={hasMotionClassName ? 'animation' : null}\n              removeOnLeave={removeOnLeave}\n              leavedClassName=\"hidden\"\n              onLeaveActive={this.styleGreen}\n            >\n              {({ style, className }) => (\n                <div\n                  className={classNames('demo-block', className)}\n                  style={style}\n                />\n              )}\n            </CSSMotion>\n          </div>\n        </div>\n\n        <div>\n          <button type=\"button\" onClick={this.onMotionLeaveImmediately}>\n            motionLeaveImmediately\n          </button>\n\n          <div>\n            {motionLeaveImmediately && (\n              <CSSMotion\n                visible={false}\n                motionName={hasMotionClassName ? 'transition' : null}\n                removeOnLeave={removeOnLeave}\n                leavedClassName=\"hidden\"\n                onLeaveActive={this.onCollapse}\n                motionLeaveImmediately\n                onLeaveEnd={this.skipColorTransition}\n              >\n                {({ style, className }) => (\n                  <div\n                    className={classNames('demo-block', className)}\n                    style={style}\n                  />\n                )}\n              </CSSMotion>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Demo;\n"},341:function(module,exports){module.exports="import React from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from '../src';\nimport './CSSMotion.less';\n\ninterface DemoState {\n  show: boolean;\n}\n\nclass Demo extends React.Component<{}, DemoState> {\n  state = {\n    show: true,\n  };\n\n  onTrigger = () => {\n    this.setState(({ show }) => ({ show: !show }));\n  };\n\n  onStart = (ele: HTMLElement, event: object) => {\n    console.log('start!', ele, event);\n  };\n\n  onEnd = (ele: HTMLElement, event: object) => {\n    console.log('end!', ele, event);\n  };\n\n  render() {\n    const { show } = this.state;\n\n    return (\n      <div>\n        <label>\n          <input type=\"checkbox\" onChange={this.onTrigger} checked={show} />{' '}\n          Show Component\n        </label>\n\n        <div className=\"grid\">\n          <div>\n            <h2>With Transition Class</h2>\n            <CSSMotion\n              visible={show}\n              motionName=\"no-trigger\"\n              motionDeadline={1000}\n              removeOnLeave\n              onAppearStart={this.onStart}\n              onEnterStart={this.onStart}\n              onLeaveStart={this.onStart}\n              onAppearEnd={this.onEnd}\n              onEnterEnd={this.onEnd}\n              onLeaveEnd={this.onEnd}\n            >\n              {({ style, className }, ref) => (\n                <div\n                  ref={ref}\n                  className={classNames('demo-block', className)}\n                  style={style}\n                />\n              )}\n            </CSSMotion>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Demo;\n"},342:function(module,exports){module.exports="import React from 'react';\nimport classNames from 'classnames';\nimport { CSSMotionList } from '../src';\nimport './CSSMotionList.less';\n\ninterface DemoState {\n  count: number;\n  checkedMap: Record<string, boolean>;\n  keyList: React.Key[];\n}\n\nclass Demo extends React.Component<{}, DemoState> {\n  state: DemoState = {\n    count: 1,\n    checkedMap: {},\n    keyList: [],\n  };\n\n  componentDidMount() {\n    this.onFlushMotion();\n  }\n\n  onCountChange = ({ target: { value } }) => {\n    this.setState({ count: Number(value) });\n  };\n\n  onFlushMotion = () => {\n    const { count, checkedMap } = this.state;\n    let keyList = [];\n    for (let i = 0; i < count; i += 1) {\n      if (checkedMap[i] !== false) {\n        keyList.push(i);\n      }\n    }\n\n    keyList = keyList.map(key => {\n      if (key === 3) {\n        return { key, background: 'orange' };\n      }\n      return key;\n    });\n\n    this.setState({ keyList });\n  };\n\n  // Motion\n  onCollapse = () => ({ width: 0, margin: '0 -5px 0 0' });\n\n  render() {\n    const { count, checkedMap, keyList } = this.state;\n\n    return (\n      <div>\n        key 3 is a different component with others.\n        {/* Input field */}\n        <div>\n          <label>\n            node count\n            <input type=\"number\" value={count} onChange={this.onCountChange} />\n          </label>\n          <button type=\"button\" onClick={this.onFlushMotion}>\n            Flush Motion\n          </button>\n        </div>\n        {/* Motion State */}\n        <div>\n          {new Array(count).fill(undefined).map((_, key) => {\n            const checked = checkedMap[key] !== false;\n            return (\n              <label key={key}>\n                <input\n                  type=\"checkbox\"\n                  checked={checked}\n                  onChange={() => {\n                    this.setState({\n                      checkedMap: {\n                        ...checkedMap,\n                        [key]: !checked,\n                      },\n                    });\n                  }}\n                />\n                {key}\n              </label>\n            );\n          })}\n        </div>\n        {/* Motion List */}\n        <CSSMotionList\n          keys={keyList}\n          motionName=\"transition\"\n          onAppearStart={this.onCollapse}\n          onEnterStart={this.onCollapse}\n          onLeaveActive={this.onCollapse}\n        >\n          {({ key, background, className, style }) => {\n            return (\n              <div\n                className={classNames('demo-block', className)}\n                style={{\n                  ...style,\n                  background,\n                }}\n              >\n                <span>{key}</span>\n              </div>\n            );\n          }}\n        </CSSMotionList>\n      </div>\n    );\n  }\n}\n\nexport default Demo;\n"},343:function(module,exports){module.exports="import React from 'react';\nimport { hydrate } from 'react-dom';\nimport ReactDOMServer from 'react-dom/server';\nimport classNames from 'classnames';\nimport { genCSSMotion } from '../src/CSSMotion';\nimport CSSMotion from '../src';\nimport './CSSMotion.less';\n\nconst ServerCSSMotion = genCSSMotion(false);\n\nconst onCollapse = () => ({ height: 0 });\n\ninterface MotionAppearProps {\n  supportMotion: boolean;\n}\n\nconst MotionAppear = ({ supportMotion }: MotionAppearProps) => {\n  const Component = supportMotion ? CSSMotion : ServerCSSMotion;\n\n  return (\n    <Component\n      motionName=\"transition\"\n      leavedClassName=\"hidden\"\n      motionAppear\n      onAppearStart={onCollapse}\n    >\n      {({ style, className }, ref) => (\n        <div\n          ref={ref}\n          className={classNames('demo-block', className)}\n          style={style}\n        />\n      )}\n    </Component>\n  );\n};\n\nconst Demo = () => {\n  const ssr = ReactDOMServer.renderToString(\n    <MotionAppear supportMotion={false} />,\n  );\n\n  React.useEffect(() => {\n    const div = document.createElement('div');\n    document.body.appendChild(div);\n    div.innerHTML = ssr;\n\n    hydrate(<MotionAppear supportMotion />, div);\n\n    return () => {\n      document.body.removeChild(div);\n    };\n  }, []);\n\n  return (\n    <div>\n      <textarea value={ssr} style={{ width: '100%' }} rows={5} readOnly />\n    </div>\n  );\n};\n\nexport default Demo;\n"},344:function(module,exports){module.exports="import React from 'react';\nimport CSSMotion from '../src';\nimport './TransitionInsideDebug.less';\n\nexport default function TransitionInsideDebug() {\n  const [visible, setVisible] = React.useState(true);\n  return (\n    <>\n      <button onClick={() => setVisible(true)} type=\"button\">\n        visible = true\n      </button>\n      <button onClick={() => setVisible(false)} type=\"button\">\n        visible = false\n      </button>\n      <CSSMotion\n        visible={visible}\n        motionName=\"debug-transition\"\n        onEnterStart={() => ({\n          maxHeight: 0,\n        })}\n        onEnterActive={() => ({\n          maxHeight: 200,\n        })}\n        onLeaveStart={() => ({\n          maxHeight: 200,\n        })}\n        onLeaveActive={() => ({\n          maxHeight: 0,\n        })}\n      >\n        {({ className, style }, ref) => (\n          <div\n            className={className}\n            style={{\n              width: 200,\n              height: 200,\n              background: 'green',\n              ...style,\n            }}\n            ref={ref}\n          >\n            <div className=\"inner-block\">Hover when closing</div>\n          </div>\n        )}\n      </CSSMotion>\n    </>\n  );\n}\n"},345:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(101)),_createClass2=_interopRequireDefault(__webpack_require__(102)),_inherits2=_interopRequireDefault(__webpack_require__(103)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(104)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(105)),_react=_interopRequireDefault(__webpack_require__(1)),_classnames=_interopRequireDefault(__webpack_require__(106)),_src=_interopRequireDefault(__webpack_require__(107));function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}__webpack_require__(214);var _default=function(_React$Component){(0,_inherits2.default)(Demo,_React$Component);var _super=_createSuper(Demo);function Demo(){var _this;(0,_classCallCheck2.default)(this,Demo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={show:!0,motionLeaveImmediately:!1,removeOnLeave:!0,hasMotionClassName:!0},_this.onTrigger=function(){_this.setState((function(_ref){return{show:!_ref.show}}))},_this.onRemoveOnLeave=function(){_this.setState((function(_ref2){return{removeOnLeave:!_ref2.removeOnLeave}}))},_this.onTriggerClassName=function(){_this.setState((function(_ref3){return{hasMotionClassName:!_ref3.hasMotionClassName}}))},_this.onCollapse=function(){return{height:0}},_this.onMotionLeaveImmediately=function(){_this.setState((function(_ref4){return{motionLeaveImmediately:!_ref4.motionLeaveImmediately}}))},_this.skipColorTransition=function(_,event){return"background-color"!==event.propertyName},_this.styleGreen=function(){return{background:"green"}},_this}return(0,_createClass2.default)(Demo,[{key:"render",value:function render(){var _this$state=this.state,show=_this$state.show,motionLeaveImmediately=_this$state.motionLeaveImmediately,removeOnLeave=_this$state.removeOnLeave,hasMotionClassName=_this$state.hasMotionClassName;return _react.default.createElement("div",null,_react.default.createElement("label",null,_react.default.createElement("input",{type:"checkbox",onChange:this.onTrigger,checked:show})," ","Show Component"),_react.default.createElement("label",null,_react.default.createElement("input",{type:"checkbox",onChange:this.onTriggerClassName,checked:hasMotionClassName})," ","hasMotionClassName"),_react.default.createElement("label",null,_react.default.createElement("input",{type:"checkbox",onChange:this.onRemoveOnLeave,checked:removeOnLeave})," ","removeOnLeave",removeOnLeave?"":" (use leavedClassName)"),_react.default.createElement("div",{className:"grid"},_react.default.createElement("div",null,_react.default.createElement("h2",null,"With Transition Class"),_react.default.createElement(_src.default,{visible:show,motionName:hasMotionClassName?"transition":null,removeOnLeave:removeOnLeave,leavedClassName:"hidden",onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse,onEnterEnd:this.skipColorTransition,onLeaveEnd:this.skipColorTransition},(function(_ref5,ref){var style=_ref5.style,className=_ref5.className;return _react.default.createElement("div",{ref:ref,className:(0,_classnames.default)("demo-block",className),style:style})}))),_react.default.createElement("div",null,_react.default.createElement("h2",null,"With Animation Class"),_react.default.createElement(_src.default,{visible:show,motionName:hasMotionClassName?"animation":null,removeOnLeave:removeOnLeave,leavedClassName:"hidden",onLeaveActive:this.styleGreen},(function(_ref6){var style=_ref6.style,className=_ref6.className;return _react.default.createElement("div",{className:(0,_classnames.default)("demo-block",className),style:style})})))),_react.default.createElement("div",null,_react.default.createElement("button",{type:"button",onClick:this.onMotionLeaveImmediately},"motionLeaveImmediately"),_react.default.createElement("div",null,motionLeaveImmediately&&_react.default.createElement(_src.default,{visible:!1,motionName:hasMotionClassName?"transition":null,removeOnLeave:removeOnLeave,leavedClassName:"hidden",onLeaveActive:this.onCollapse,motionLeaveImmediately:!0,onLeaveEnd:this.skipColorTransition},(function(_ref7){var style=_ref7.style,className=_ref7.className;return _react.default.createElement("div",{className:(0,_classnames.default)("demo-block",className),style:style})})))))}}]),Demo}(_react.default.Component);exports.default=_default},346:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(101)),_createClass2=_interopRequireDefault(__webpack_require__(102)),_inherits2=_interopRequireDefault(__webpack_require__(103)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(104)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(105)),_react=_interopRequireDefault(__webpack_require__(1)),_classnames=_interopRequireDefault(__webpack_require__(106)),_src=_interopRequireDefault(__webpack_require__(107));function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}__webpack_require__(214);var _default=function(_React$Component){(0,_inherits2.default)(Demo,_React$Component);var _super=_createSuper(Demo);function Demo(){var _this;(0,_classCallCheck2.default)(this,Demo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={show:!0},_this.onTrigger=function(){_this.setState((function(_ref){return{show:!_ref.show}}))},_this.onStart=function(ele,event){console.log("start!",ele,event)},_this.onEnd=function(ele,event){console.log("end!",ele,event)},_this}return(0,_createClass2.default)(Demo,[{key:"render",value:function render(){var show=this.state.show;return _react.default.createElement("div",null,_react.default.createElement("label",null,_react.default.createElement("input",{type:"checkbox",onChange:this.onTrigger,checked:show})," ","Show Component"),_react.default.createElement("div",{className:"grid"},_react.default.createElement("div",null,_react.default.createElement("h2",null,"With Transition Class"),_react.default.createElement(_src.default,{visible:show,motionName:"no-trigger",motionDeadline:1e3,removeOnLeave:!0,onAppearStart:this.onStart,onEnterStart:this.onStart,onLeaveStart:this.onStart,onAppearEnd:this.onEnd,onEnterEnd:this.onEnd,onLeaveEnd:this.onEnd},(function(_ref2,ref){var style=_ref2.style,className=_ref2.className;return _react.default.createElement("div",{ref:ref,className:(0,_classnames.default)("demo-block",className),style:style})})))))}}]),Demo}(_react.default.Component);exports.default=_default},347:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(211)),_objectSpread3=_interopRequireDefault(__webpack_require__(109)),_classCallCheck2=_interopRequireDefault(__webpack_require__(101)),_createClass2=_interopRequireDefault(__webpack_require__(102)),_inherits2=_interopRequireDefault(__webpack_require__(103)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(104)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(105)),_react=_interopRequireDefault(__webpack_require__(1)),_classnames=_interopRequireDefault(__webpack_require__(106)),_src=__webpack_require__(107);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}__webpack_require__(814);var _default=function(_React$Component){(0,_inherits2.default)(Demo,_React$Component);var _super=_createSuper(Demo);function Demo(){var _this;(0,_classCallCheck2.default)(this,Demo);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={count:1,checkedMap:{},keyList:[]},_this.onCountChange=function(_ref){var value=_ref.target.value;_this.setState({count:Number(value)})},_this.onFlushMotion=function(){for(var _this$state=_this.state,count=_this$state.count,checkedMap=_this$state.checkedMap,keyList=[],i=0;i<count;i+=1)!1!==checkedMap[i]&&keyList.push(i);keyList=keyList.map((function(key){return 3===key?{key:key,background:"orange"}:key})),_this.setState({keyList:keyList})},_this.onCollapse=function(){return{width:0,margin:"0 -5px 0 0"}},_this}return(0,_createClass2.default)(Demo,[{key:"componentDidMount",value:function componentDidMount(){this.onFlushMotion()}},{key:"render",value:function render(){var _this2=this,_this$state2=this.state,count=_this$state2.count,checkedMap=_this$state2.checkedMap,keyList=_this$state2.keyList;return _react.default.createElement("div",null,"key 3 is a different component with others.",_react.default.createElement("div",null,_react.default.createElement("label",null,"node count",_react.default.createElement("input",{type:"number",value:count,onChange:this.onCountChange})),_react.default.createElement("button",{type:"button",onClick:this.onFlushMotion},"Flush Motion")),_react.default.createElement("div",null,new Array(count).fill(void 0).map((function(_,key){var checked=!1!==checkedMap[key];return _react.default.createElement("label",{key:key},_react.default.createElement("input",{type:"checkbox",checked:checked,onChange:function onChange(){_this2.setState({checkedMap:(0,_objectSpread3.default)({},checkedMap,(0,_defineProperty2.default)({},key,!checked))})}}),key)}))),_react.default.createElement(_src.CSSMotionList,{keys:keyList,motionName:"transition",onAppearStart:this.onCollapse,onEnterStart:this.onCollapse,onLeaveActive:this.onCollapse},(function(_ref2){var key=_ref2.key,background=_ref2.background,className=_ref2.className,style=_ref2.style;return _react.default.createElement("div",{className:(0,_classnames.default)("demo-block",className),style:(0,_objectSpread3.default)({},style,{background:background})},_react.default.createElement("span",null,key))})))}}]),Demo}(_react.default.Component);exports.default=_default},348:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_reactDom=__webpack_require__(136),_server=_interopRequireDefault(__webpack_require__(816)),_classnames=_interopRequireDefault(__webpack_require__(106)),_CSSMotion=__webpack_require__(210),_src=_interopRequireDefault(__webpack_require__(107));__webpack_require__(214);var ServerCSSMotion=(0,_CSSMotion.genCSSMotion)(!1),onCollapse=function onCollapse(){return{height:0}},MotionAppear=function MotionAppear(_ref){var Component=_ref.supportMotion?_src.default:ServerCSSMotion;return _react.default.createElement(Component,{motionName:"transition",leavedClassName:"hidden",motionAppear:!0,onAppearStart:onCollapse},(function(_ref2,ref){var style=_ref2.style,className=_ref2.className;return _react.default.createElement("div",{ref:ref,className:(0,_classnames.default)("demo-block",className),style:style})}))},_default=function Demo(){var ssr=_server.default.renderToString(_react.default.createElement(MotionAppear,{supportMotion:!1}));return _react.default.useEffect((function(){var div=document.createElement("div");return document.body.appendChild(div),div.innerHTML=ssr,(0,_reactDom.hydrate)(_react.default.createElement(MotionAppear,{supportMotion:!0}),div),function(){document.body.removeChild(div)}}),[]),_react.default.createElement("div",null,_react.default.createElement("textarea",{value:ssr,style:{width:"100%"},rows:5,readOnly:!0}))};exports.default=_default},349:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function TransitionInsideDebug(){var _React$useState=_react.default.useState(!0),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),visible=_React$useState2[0],setVisible=_React$useState2[1];return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("button",{onClick:function onClick(){return setVisible(!0)},type:"button"},"visible = true"),_react.default.createElement("button",{onClick:function onClick(){return setVisible(!1)},type:"button"},"visible = false"),_react.default.createElement(_src.default,{visible:visible,motionName:"debug-transition",onEnterStart:function onEnterStart(){return{maxHeight:0}},onEnterActive:function onEnterActive(){return{maxHeight:200}},onLeaveStart:function onLeaveStart(){return{maxHeight:200}},onLeaveActive:function onLeaveActive(){return{maxHeight:0}}},(function(_ref,ref){var className=_ref.className,style=_ref.style;return _react.default.createElement("div",{className:className,style:(0,_objectSpread2.default)({width:200,height:200,background:"green"},style),ref:ref},_react.default.createElement("div",{className:"inner-block"},"Hover when closing"))})))};var _objectSpread2=_interopRequireDefault(__webpack_require__(109)),_slicedToArray2=_interopRequireDefault(__webpack_require__(212)),_react=_interopRequireDefault(__webpack_require__(1)),_src=_interopRequireDefault(__webpack_require__(107));__webpack_require__(818)},354:function(module,exports,__webpack_require__){__webpack_require__(355),__webpack_require__(507),module.exports=__webpack_require__(508)},421:function(module,exports){},508:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(71),_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(335),storybook_addon_source__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(696),__webpack_require__(336)),storybook_addon_source__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(storybook_addon_source__WEBPACK_IMPORTED_MODULE_3__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_1__.withNotes),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(storybook_addon_source__WEBPACK_IMPORTED_MODULE_3___default.a),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(698)}),module)}.call(this,__webpack_require__(265)(module))},698:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_markdown__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(337),react_markdown__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_1__),_storybook_addon_a11y__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(338),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(71),_storybook_addon_console__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(339),rc_source_loader_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(340),rc_source_loader_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(rc_source_loader_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_5__),rc_source_loader_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(341),rc_source_loader_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(rc_source_loader_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_6__),rc_source_loader_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(342),rc_source_loader_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(rc_source_loader_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_7__),rc_source_loader_examples_SSR__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(343),rc_source_loader_examples_SSR__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(rc_source_loader_examples_SSR__WEBPACK_IMPORTED_MODULE_8__),rc_source_loader_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(344),rc_source_loader_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(rc_source_loader_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_9__),_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(345),_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_10__),_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(346),_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_11__),_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(347),_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_12__),_examples_SSR__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(348),_examples_SSR__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_examples_SSR__WEBPACK_IMPORTED_MODULE_13__),_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(349),_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_14__),_storybook_theming__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(350),_README_md__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(217);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.addParameters)({options:{theme:_storybook_theming__WEBPACK_IMPORTED_MODULE_15__.themes.light,name:"rc-motion",url:"https://react-component.github.io/motion",title:"rc-motion"}});var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_1___default.a,{escapeHtml:!1,source:_README_md__WEBPACK_IMPORTED_MODULE_16__.a}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_10___default.a,null),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_11___default.a,null),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_12___default.a,null),_ref5=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_SSR__WEBPACK_IMPORTED_MODULE_13___default.a,null),_ref6=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_14___default.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("rc-motion",module).addDecorator(_storybook_addon_a11y__WEBPACK_IMPORTED_MODULE_2__.withA11y).addDecorator((function(storyFn,context){return Object(_storybook_addon_console__WEBPACK_IMPORTED_MODULE_4__.withConsole)()(storyFn)(context)})).add("README",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"markdown-body entry-content",style:{padding:24}},_ref)}),{source:{code:_README_md__WEBPACK_IMPORTED_MODULE_16__.a}}).add("CSSMotion",(function(){return _ref2}),{source:{code:rc_source_loader_examples_CSSMotion__WEBPACK_IMPORTED_MODULE_5___default.a}}).add("CSSMotionDeadline",(function(){return _ref3}),{source:{code:rc_source_loader_examples_CSSMotionDeadline__WEBPACK_IMPORTED_MODULE_6___default.a}}).add("CSSMotionList",(function(){return _ref4}),{source:{code:rc_source_loader_examples_CSSMotionList__WEBPACK_IMPORTED_MODULE_7___default.a}}).add("SSR",(function(){return _ref5}),{source:{code:rc_source_loader_examples_SSR__WEBPACK_IMPORTED_MODULE_8___default.a}}).add("TransitionInsideDebug",(function(){return _ref6}),{source:{code:rc_source_loader_examples_TransitionInsideDebug__WEBPACK_IMPORTED_MODULE_9___default.a}})}.call(this,__webpack_require__(265)(module))},805:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(108),_interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function useStatus(supportMotion,visible,getElement,_ref){var _ref$motionEnter=_ref.motionEnter,motionEnter=void 0===_ref$motionEnter||_ref$motionEnter,_ref$motionAppear=_ref.motionAppear,motionAppear=void 0===_ref$motionAppear||_ref$motionAppear,_ref$motionLeave=_ref.motionLeave,motionLeave=void 0===_ref$motionLeave||_ref$motionLeave,motionDeadline=_ref.motionDeadline,motionLeaveImmediately=_ref.motionLeaveImmediately,onAppearStart=_ref.onAppearStart,onEnterStart=_ref.onEnterStart,onLeaveStart=_ref.onLeaveStart,onAppearActive=_ref.onAppearActive,onEnterActive=_ref.onEnterActive,onLeaveActive=_ref.onLeaveActive,onAppearEnd=_ref.onAppearEnd,onEnterEnd=_ref.onEnterEnd,onLeaveEnd=_ref.onLeaveEnd,_useState=(0,React.useState)(_interface.STATUS_NONE),_useState2=(0,_slicedToArray2.default)(_useState,2),status=_useState2[0],setStatus=_useState2[1],_useState3=(0,React.useState)(!1),_useState4=(0,_slicedToArray2.default)(_useState3,2),active=_useState4[0],setActive=_useState4[1],_useState5=(0,React.useState)(null),_useState6=(0,_slicedToArray2.default)(_useState5,2),style=_useState6[0],setStyle=_useState6[1],mountedRef=(0,React.useRef)(!1),nextFrameRef=(0,React.useRef)(null),deadlineRef=(0,React.useRef)(null),cacheElementRef=(0,React.useRef)(null);function getDomElement(){return getElement()||cacheElementRef.current}function cancelNextFrame(){_raf.default.cancel(nextFrameRef.current)}var motionEndRef=(0,React.useRef)({status:status,active:active,onAppearEnd:onAppearEnd,onEnterEnd:onEnterEnd,onLeaveEnd:onLeaveEnd});motionEndRef.current={status:status,active:active,onAppearEnd:onAppearEnd,onEnterEnd:onEnterEnd,onLeaveEnd:onLeaveEnd};var onInternalMotionEnd=React.useCallback((function(event){var element=getDomElement();if(!event||event.deadline||event.target===element){var canEnd,_cache$onAppearEnd,cache=motionEndRef.current;if(cache.status===_interface.STATUS_APPEAR&&cache.active)canEnd=null===(_cache$onAppearEnd=cache.onAppearEnd)||void 0===_cache$onAppearEnd?void 0:_cache$onAppearEnd.call(cache,element,event);else if(cache.status===_interface.STATUS_ENTER&&cache.active){var _cache$onEnterEnd;canEnd=null===(_cache$onEnterEnd=cache.onEnterEnd)||void 0===_cache$onEnterEnd?void 0:_cache$onEnterEnd.call(cache,element,event)}else if(cache.status===_interface.STATUS_LEAVE&&cache.active){var _cache$onLeaveEnd;canEnd=null===(_cache$onLeaveEnd=cache.onLeaveEnd)||void 0===_cache$onLeaveEnd?void 0:_cache$onLeaveEnd.call(cache,element,event)}!1!==canEnd&&setStatus(_interface.STATUS_NONE)}}),[]);function removeMotionEvents(element){element&&(element.removeEventListener(_motion.transitionEndName,onInternalMotionEnd),element.removeEventListener(_motion.animationEndName,onInternalMotionEnd))}function cleanUp(){cancelNextFrame(),clearTimeout(deadlineRef.current)}return useIsomorphicLayoutEffect((function(){if(supportMotion){var nextStatus,nextStyle,isMounted=mountedRef.current;mountedRef.current=!0,!isMounted&&visible&&motionAppear&&(nextStatus=_interface.STATUS_APPEAR,nextStyle=null==onAppearStart?void 0:onAppearStart(getDomElement(),null)),isMounted&&visible&&motionEnter&&(nextStatus=_interface.STATUS_ENTER,nextStyle=null==onEnterStart?void 0:onEnterStart(getDomElement(),null)),(isMounted&&!visible&&motionLeave||!isMounted&&motionLeaveImmediately&&!visible&&motionLeave)&&(nextStatus=_interface.STATUS_LEAVE,nextStyle=null==onLeaveStart?void 0:onLeaveStart(getDomElement(),null)),nextStatus&&(cleanUp(),setStatus(nextStatus),setActive(!1),setStyle(nextStyle))}}),[visible]),useIsomorphicLayoutEffect((function(){supportMotion&&status&&status!==_interface.STATUS_NONE&&!active&&function nextFrame(callback){var delay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;cancelNextFrame(),nextFrameRef.current=(0,_raf.default)((function(){delay<=1?callback():nextFrame(callback,delay-1)}))}((function(){var nextStyle,element=getDomElement();switch(status){case"appear":nextStyle=null==onAppearActive?void 0:onAppearActive(element,null);break;case"enter":nextStyle=null==onEnterActive?void 0:onEnterActive(element,null);break;case"leave":nextStyle=null==onLeaveActive?void 0:onLeaveActive(element,null)}!function patchMotionEvents(element){cacheElementRef.current&&cacheElementRef.current!==element&&removeMotionEvents(cacheElementRef.current);element&&element!==cacheElementRef.current&&(element.addEventListener(_motion.transitionEndName,onInternalMotionEnd),element.addEventListener(_motion.animationEndName,onInternalMotionEnd),cacheElementRef.current=element)}(element),setActive(!0),setStyle(nextStyle),motionDeadline>0&&(deadlineRef.current=setTimeout((function(){onInternalMotionEnd({deadline:!0})}),motionDeadline))}))}),[status,active]),(0,React.useEffect)((function(){(status===_interface.STATUS_APPEAR&&!motionAppear||status===_interface.STATUS_ENTER&&!motionEnter||status===_interface.STATUS_LEAVE&&!motionLeave)&&(cancelNextFrame(),setStatus(_interface.STATUS_NONE),setActive(!1))}),[status,motionAppear,motionEnter,motionLeave]),(0,React.useEffect)((function(){return function(){removeMotionEvents(cacheElementRef.current),cleanUp()}}),[]),[status,status!==_interface.STATUS_NONE&&active,style]};var _slicedToArray2=_interopRequireDefault(__webpack_require__(212)),React=_interopRequireWildcard(__webpack_require__(1)),_raf=_interopRequireDefault(__webpack_require__(806)),_canUseDom=_interopRequireDefault(__webpack_require__(326)),_interface=__webpack_require__(327),_motion=__webpack_require__(213),useIsomorphicLayoutEffect=(0,_canUseDom.default)()?React.useLayoutEffect:React.useEffect},807:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(108),_interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(101)),_createClass2=_interopRequireDefault(__webpack_require__(102)),_inherits2=_interopRequireDefault(__webpack_require__(103)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(104)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(105));function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}var _default=function(_React$Component){(0,_inherits2.default)(DomWrapper,_React$Component);var _super=_createSuper(DomWrapper);function DomWrapper(){return(0,_classCallCheck2.default)(this,DomWrapper),_super.apply(this,arguments)}return(0,_createClass2.default)(DomWrapper,[{key:"render",value:function render(){return this.props.children}}]),DomWrapper}(_interopRequireWildcard(__webpack_require__(1)).Component);exports.default=_default},808:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(108),_interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.genCSSMotionList=genCSSMotionList,exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(809)),_objectWithoutProperties2=_interopRequireDefault(__webpack_require__(810)),_objectSpread2=_interopRequireDefault(__webpack_require__(109)),_classCallCheck2=_interopRequireDefault(__webpack_require__(101)),_createClass2=_interopRequireDefault(__webpack_require__(102)),_inherits2=_interopRequireDefault(__webpack_require__(103)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(104)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(105)),React=_interopRequireWildcard(__webpack_require__(1)),_CSSMotion=_interopRequireDefault(__webpack_require__(210)),_motion=__webpack_require__(213),_diff=__webpack_require__(812);function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=(0,_getPrototypeOf2.default)(Derived);if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,result)}}var MOTION_PROP_NAMES=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function genCSSMotionList(transitionSupport){var CSSMotion=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_CSSMotion.default,CSSMotionList=function(_React$Component){(0,_inherits2.default)(CSSMotionList,_React$Component);var _super=_createSuper(CSSMotionList);function CSSMotionList(){var _this;(0,_classCallCheck2.default)(this,CSSMotionList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={keyEntities:[]},_this.removeKey=function(removeKey){_this.setState((function(_ref){return{keyEntities:_ref.keyEntities.map((function(entity){return entity.key!==removeKey?entity:(0,_objectSpread2.default)({},entity,{status:_diff.STATUS_REMOVED})}))}}))},_this}return(0,_createClass2.default)(CSSMotionList,[{key:"render",value:function render(){var _this2=this,keyEntities=this.state.keyEntities,_this$props=this.props,component=_this$props.component,children=_this$props.children,restProps=(0,_objectWithoutProperties2.default)(_this$props,["component","children"]),Component=component||React.Fragment,motionProps={};return MOTION_PROP_NAMES.forEach((function(prop){motionProps[prop]=restProps[prop],delete restProps[prop]})),delete restProps.keys,React.createElement(Component,restProps,keyEntities.map((function(_ref2){var status=_ref2.status,eventProps=(0,_objectWithoutProperties2.default)(_ref2,["status"]),visible=status===_diff.STATUS_ADD||status===_diff.STATUS_KEEP;return React.createElement(CSSMotion,(0,_extends2.default)({},motionProps,{key:eventProps.key,visible:visible,eventProps:eventProps,onLeaveEnd:function onLeaveEnd(){motionProps.onLeaveEnd&&motionProps.onLeaveEnd.apply(motionProps,arguments),_this2.removeKey(eventProps.key)}}),children)})))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref3,_ref4){var keys=_ref3.keys,keyEntities=_ref4.keyEntities,parsedKeyObjects=(0,_diff.parseKeys)(keys);if(!transitionSupport)return{keyEntities:parsedKeyObjects.map((function(obj){return(0,_objectSpread2.default)({},obj,{status:_diff.STATUS_KEEP})}))};var mixedKeyEntities=(0,_diff.diffKeys)(keyEntities,parsedKeyObjects),keyEntitiesLen=keyEntities.length;return{keyEntities:mixedKeyEntities.filter((function(entity){for(var prevEntity=null,i=0;i<keyEntitiesLen;i+=1){var currentEntity=keyEntities[i];if(currentEntity.key===entity.key){prevEntity=currentEntity;break}}return!prevEntity||prevEntity.status!==_diff.STATUS_REMOVED||entity.status!==_diff.STATUS_REMOVE}))}}}]),CSSMotionList}(React.Component);return CSSMotionList.defaultProps={component:"div"},CSSMotionList}var _default=genCSSMotionList(_motion.supportTransition);exports.default=_default},812:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(35);Object.defineProperty(exports,"__esModule",{value:!0}),exports.wrapKeyToObject=wrapKeyToObject,exports.parseKeys=parseKeys,exports.diffKeys=function diffKeys(){var prevKeys=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],currentKeys=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],list=[],currentIndex=0,currentLen=currentKeys.length,prevKeyObjects=parseKeys(prevKeys),currentKeyObjects=parseKeys(currentKeys);prevKeyObjects.forEach((function(keyObj){for(var hit=!1,i=currentIndex;i<currentLen;i+=1){var currentKeyObj=currentKeyObjects[i];if(currentKeyObj.key===keyObj.key){currentIndex<i&&(list=list.concat(currentKeyObjects.slice(currentIndex,i).map((function(obj){return(0,_objectSpread2.default)({},obj,{status:"add"})}))),currentIndex=i),list.push((0,_objectSpread2.default)({},currentKeyObj,{status:"keep"})),currentIndex+=1,hit=!0;break}}hit||list.push((0,_objectSpread2.default)({},keyObj,{status:"remove"}))})),currentIndex<currentLen&&(list=list.concat(currentKeyObjects.slice(currentIndex).map((function(obj){return(0,_objectSpread2.default)({},obj,{status:"add"})}))));var keys={};list.forEach((function(_ref){var key=_ref.key;keys[key]=(keys[key]||0)+1}));var duplicatedKeys=Object.keys(keys).filter((function(key){return keys[key]>1}));return duplicatedKeys.forEach((function(matchKey){(list=list.filter((function(_ref2){var key=_ref2.key,status=_ref2.status;return key!==matchKey||"remove"!==status}))).forEach((function(node){node.key===matchKey&&(node.status="keep")}))})),list},exports.STATUS_REMOVED=exports.STATUS_REMOVE=exports.STATUS_KEEP=exports.STATUS_ADD=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(109));exports.STATUS_ADD="add";exports.STATUS_KEEP="keep";exports.STATUS_REMOVE="remove";function wrapKeyToObject(key){var keyObj;return keyObj=key&&"object"==typeof key&&"key"in key?key:{key:key},(0,_objectSpread2.default)({},keyObj,{key:String(keyObj.key)})}function parseKeys(){var keys=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return keys.map(wrapKeyToObject)}exports.STATUS_REMOVED="removed"},813:function(module,exports,__webpack_require__){(exports=__webpack_require__(216)(!1)).push([module.i,".grid {\n  display: table;\n}\n.grid > div {\n  display: table-cell;\n  min-width: 350px;\n}\n.demo-block {\n  display: block;\n  height: 300px;\n  width: 300px;\n  background: red;\n  overflow: hidden;\n}\n.transition {\n  transition: background 0.3s, height 1.3s, opacity 1.3s;\n}\n.transition.transition-appear,\n.transition.transition-enter {\n  opacity: 0;\n}\n.transition.transition-appear.transition-appear-active,\n.transition.transition-enter.transition-enter-active {\n  opacity: 1;\n}\n.transition.transition-leave-active {\n  opacity: 0;\n  background: green;\n}\n.animation {\n  animation-duration: 1.3s;\n  animation-fill-mode: both;\n}\n.animation.animation-appear,\n.animation.animation-enter {\n  animation-name: enter;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.animation.animation-appear.animation-appear-active,\n.animation.animation-enter.animation-enter-active {\n  animation-name: enter;\n  animation-play-state: running;\n}\n.animation.animation-leave {\n  animation-name: leave;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.animation.animation-leave.animation-leave-active {\n  animation-name: leave;\n  animation-play-state: running;\n}\n.hidden {\n  display: none !important;\n}\n@keyframes enter {\n  from {\n    transform: scale(0);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n@keyframes leave {\n  from {\n    transform: scale(1);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0);\n    opacity: 0;\n  }\n}\n",""]),module.exports=exports},814:function(module,exports,__webpack_require__){var api=__webpack_require__(215),content=__webpack_require__(815);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},815:function(module,exports,__webpack_require__){(exports=__webpack_require__(216)(!1)).push([module.i,".grid {\n  display: table;\n}\n.grid > div {\n  display: table-cell;\n  min-width: 350px;\n}\n.demo-block {\n  display: block;\n  height: 300px;\n  width: 300px;\n  background: red;\n  overflow: hidden;\n}\n.transition {\n  transition: background 0.3s, height 1.3s, opacity 1.3s;\n}\n.transition.transition-appear,\n.transition.transition-enter {\n  opacity: 0;\n}\n.transition.transition-appear.transition-appear-active,\n.transition.transition-enter.transition-enter-active {\n  opacity: 1;\n}\n.transition.transition-leave-active {\n  opacity: 0;\n  background: green;\n}\n.animation {\n  animation-duration: 1.3s;\n  animation-fill-mode: both;\n}\n.animation.animation-appear,\n.animation.animation-enter {\n  animation-name: enter;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.animation.animation-appear.animation-appear-active,\n.animation.animation-enter.animation-enter-active {\n  animation-name: enter;\n  animation-play-state: running;\n}\n.animation.animation-leave {\n  animation-name: leave;\n  animation-fill-mode: both;\n  animation-play-state: paused;\n}\n.animation.animation-leave.animation-leave-active {\n  animation-name: leave;\n  animation-play-state: running;\n}\n.hidden {\n  display: none !important;\n}\n@keyframes enter {\n  from {\n    transform: scale(0);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n@keyframes leave {\n  from {\n    transform: scale(1);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0);\n    opacity: 0;\n  }\n}\n.demo-block {\n  display: inline-block;\n  height: 100px;\n  width: 100px;\n  border-right: 5px solid #FFF;\n  position: relative;\n  box-sizing: border-box;\n}\n.demo-block > span {\n  color: #FFF;\n  font-size: 30px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.transition {\n  transition: all 0.5s;\n}\n",""]),module.exports=exports},818:function(module,exports,__webpack_require__){var api=__webpack_require__(215),content=__webpack_require__(819);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},819:function(module,exports,__webpack_require__){(exports=__webpack_require__(216)(!1)).push([module.i,".debug-transition.debug-transition-leave {\n  transition: max-height 20s linear;\n}\n.debug-transition.debug-transition-enter {\n  transition: max-height 1s linear;\n}\n.inner-block {\n  position: relative;\n  left: 50px;\n  top: 50px;\n  width: 100px;\n  height: 100px;\n  transition: background-color 1s linear;\n  background-color: yellowgreen;\n}\n.inner-block:hover {\n  background-color: blueviolet;\n}\n",""]),module.exports=exports}},[[354,1,2]]]);
//# sourceMappingURL=main.69b688368b06de44d274.bundle.js.map